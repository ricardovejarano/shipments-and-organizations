generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Organization {
  id        Int      @default(autoincrement()) @id
  orgId     String   @unique
  code      String  
  shipment  OrganizationsOnShipments[]

}

model Shipment {
  id                   Int       @default(autoincrement()) @id
  referenceId          String    @unique
  estimatedTimeArrival DateTime?
  organization         OrganizationsOnShipments[]
}

model OrganizationsOnShipments {
  createdAt            DateTime @default(now())
  updatedAt            DateTime @updatedAt
  shipment             Shipment @relation(fields: [shipmentId], references: [referenceId])
  shipmentId          String
  organization         Organization @relation(fields: [organizationId], references: [orgId])
  organizationCode     String
  organizationId       String

  @@id([shipmentId, organizationId])
}
